//9-2-2017 jchoy TugText v0.136 slice.call(arguments)

TugText= function(){
  new AppTool().inherit( this, CmdAutostart );
  this.cr= unescape("%0d%0a");
  this.start= function(ce){
    this.cfg= {sl:new StoLog("tugtext.log"), fn:"tugtext", pl:[].slice.call(arguments,1).join(this.cr)};
    this.parse(ce, "link #://cmd/edit%20"+this.writePayload(this.cfg.fn));
  }
  this.writePayload= function(fn){
    var st= this.cfg.sl.cfg.st;
    if (st.isOk) st.lo.setItem( fn, this.cfg.pl );
    return fn;
  }
}
new TugText().start($ce,
  "welcome to TugText"
  ,"This can be used to publish info"
  ,"Info is packaged into a javascript class"
  ,"Subscribers use loadjs [url]"
  ,""
  ,"TODO: a publisher class"
  ,"  list published files like bbs"
  ,"  make this class more data friendly"
  ,""); 
